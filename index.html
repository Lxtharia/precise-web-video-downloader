<!doctype html>
<html>

<head>
	<title>Life can be so simple</title>
	<meta name="description" content="This site won't download itself, it leaves the executing to you!!">
	<!-- <link rel="stylesheet" href="https://github.com/jdan/98.css" /> -->
	<link rel="stylesheet" href="./style.css" />
	<!-- <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" /> -->
	<!-- <script defer src="https://pyscript.net/latest/pyscript.js"></script> -->
	<script type="text/javascript" src="https://cdn.jsdelivr.net/pyodide/v0.22.1/full/pyodide.js"></script>
</head>

<body>

	<h2><a href="https://pbs.twimg.com/media/Fo9CJrLWYAYxIq8?format=jpg&name=large"><span style="color:#EB96AE;">Life</span> can be so <span style="color: #E44645">simple</span></a></h2>
	<div id=content>


		<div style="max-width: 93%; min-width: 50%; margin-bottom: 10px;">
			<input type="text" id="url_field" oninput="loadVideo()" value="" placeholder="Enter youtube url">
			<label id="info_label"></label>
		</div>


		<div style="max-height: 70vh; width:80vw; aspect-ratio:16 / 10;">
			<div id="player" style="margin:auto; width:100%; height:100%"></div>
		</div>


		<div id="controls">
			<div class="time-setter-div">
				<input type="time" step="0.001" id="start_time" value="00:00:00:000">
				<div style="min-width: 70%; display: flex; flex-direction: column;">
				<button type="button" name="start_time_button" onclick="setStart()">Set Start Time! [s]</button>
				<button type="button" name="jump_start_button" onclick="jumpToStart()">Jump to Start! [S]</button>
				</div>
			</div>
			<div class="time-setter-div">
				<input type="time" readonly step="0.001" id="current_time" value="00:00:00:000">
				<div class="playercontrols">
					<button type="button" id="second_left_button" onclick="moveSeconds(-1)">	<< <br>1 Sec<br>[Left]</button>
					<button type="button" id="frame_left_button" onclick="moveFrames(-1)">	< <br>Frame<br> [ , ]</button>
					<button type="button" id="frame_right_button" onclick="moveFrames(1)">	> <br>Frame<br> [ . ] </button>
					<button type="button" id="second_right_button" onclick="moveSeconds(1)">	>> <br>1 Sec<br>[Right]</button>
				</div>
			</div>
			<div class="time-setter-div">
				<input type="time" step="0.001" id="end_time" value="00:00:00:000">
				<button type="button" name="end_time_button" onclick="setEnd()">Set End Time! [e]</button>
				<div>
					<input type="checkbox" id="stop_at_end_checkbox" checked onchange="toggleStopAtEnd()">
					<label for="stop_at_end_checkbox">Stop playback at End time</label>
				</div>
			</div>
		</div>


		<div id="download_option_container">
			<fieldset style="margin-bottom: 10px;">
				<legend>Select audio option:</legend>
				<div>
					<input type="radio" name="audio_radio" id="with_video_audio" checked onchange="selectAudioOption()">
					<label for="with_video_audio">With Video+Audio</label>
				</div>
				<div>
					<input type="radio" name="audio_radio" id="only_video" onchange="selectAudioOption()">
					<label for="only_video">Only video</label>
				</div>
				<div>
					<input type="radio"  name="audio_radio"  id="only_audio" onchange="selectAudioOption()">
					<label for="only_audio">Only audio</label>
				</div>
			</fieldset>
			<button type="button" id="download_button" onclick="downloadNow()">DOWNLOAD NOW!!!!</button><br>
			<input type="text" id="download_command" value="">
			<button name="copy_command" onclick="copyToClipboard()">/ / C o p y  /  C o p y / /</button>
		</div>
	<div>
		<h3> Controls: </h3>
		<ul>
		<li>Paste Youtube Url</li>
		<li>Let it play, navigate with mouse, whatever</li>
		<li>Play/Pause with <b>SPACE</b> or <b>k</b></li>
		<li>Navigate frame by frame with <b>. (DOT)</b> and <b>, (COMMA)</b></li>
		<li>Navigate second by second with the <b>Arrow Keys</b> (Note: If the player is focused, it will skip by 5 or 10 seconds and won't catch Start/End key bindings) </li>
		<li>Set Start and End Time with <b>s</b> and <b>e</b></li>
		<li>Jump to start with (capital) <b>S</b></li>
		<li>Pressing the DOWNLOAD button will generate a <a href="https://github.com/yt-dlp/yt-dlp">yt-dlp</a> command </li>
		<li>(It needs to be installed and added to PATH so it can be called anywhere from the command line) "<a href="https://www.google.com/search?client=firefox-b-d&q=how+to+add+binaries+to+path+windows">What?</a>"</li>
		<li>Copy it and execute it in on the command line, it will download the video/audio in the current folder by default</li>
		<li>If the time is displayed as 12:00 AM/PM, instead of 00:00, this is due to your locale settings, I can't change that with html/css. I find it very annoying.</li>
		</ul>

	</div>


	</div>
	<!-- <script type="text/javascript" src="download.js"></script> -->
	<script src="player-control.js"></script>
	<footer></footer>
</body>

</html>
